name: Test Gemini Connection
on: [push] 
jobs:
  test_api:
    runs-on: ubuntu-latest   
    steps:
      - name: âš™ï¸ Checkout repository code
        uses: actions/checkout@v4

      - name: ğŸ Set up Python and Install Dependencies
        uses: actions/setup-python@v5
        with:
          python-version: '3.11' # Use a recent stable Python version
          # This step automatically looks for and installs dependencies from requirements.txt
          cache: 'pip' 

      - name: ğŸš€ Run API Test Script
        # This step is critical: it passes the GitHub Secret to the script
        env:
          # The name must exactly match the variable expected by the Python script
          # The value comes from the secret you created in GitHub repository settings
          GEMINI_API_KEY: ${{ secrets.GEMINI_API_KEY }}
        run: python stem.py
